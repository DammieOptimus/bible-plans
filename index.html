<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-M5T96RK7');</script>
    <!-- End Google Tag Manager -->
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dammie Optimus NT Reading Plan</title>
    <style>
        /*-------------------*/
        /*  1. Global Styles & Fonts */
        /*-------------------*/
        @import url('https://fonts.googleapis.com/css2?family=Lora:wght@400;700&family=Source+Sans+Pro:wght@400;600&display=swap');

        :root {
            --primary-color: #1a202c;
            --secondary-color: #2d3748;
            --accent-color: #f6ad55;
            --text-color: #edf2f7;
            --text-muted-color: #a0aec0;
            --completed-color: #48bb78;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Source Sans Pro', sans-serif;
            background-color: var(--primary-color);
            color: var(--text-color);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 1.5rem;
        }

        h1,
        h2,
        h3 {
            font-family: 'Lora', serif;
            font-weight: 700;
        }

        /*-------------------*/
        /*  2. Header & Plan Selector */
        /*-------------------*/
        .header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            color: var(--accent-color);
        }

        .header p {
            font-size: 1.1rem;
            color: var(--text-muted-color);
        }

        .plan-selector {
            display: flex;
            justify-content: center;
            margin-bottom: 2.5rem;
            background-color: var(--secondary-color);
            border-radius: 12px;
            padding: 0.5rem;
        }

        .plan-button {
            background: none;
            border: none;
            color: var(--text-muted-color);
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s ease;
            flex: 1;
            max-width: 200px;
        }

        .plan-button.active {
            background-color: var(--accent-color);
            color: var(--primary-color);
            box-shadow: 0 4px 14px rgba(246, 173, 85, 0.2);
        }

        .plan-button:not(.active):hover {
            background-color: rgba(255, 255, 255, 0.05);
        }

        /*-------------------*/
        /*  3. Reading Plan Grid & Cards */
        /*-------------------*/
        .reading-plan {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 1.5rem;
        }

        .day-card {
            background-color: var(--secondary-color);
            border-radius: 12px;
            border-left: 5px solid transparent;
            padding: 1.5rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .day-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .card-header h3 {
            font-size: 1.5rem;
            color: var(--accent-color);
        }

        .completion-checkbox {
            /* Hiding the default checkbox */
            opacity: 0;
            position: absolute;
            width: 0;
            height: 0;
        }

        .completion-label {
            position: relative;
            cursor: pointer;
            width: 24px;
            height: 24px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            display: inline-block;
            transition: background-color 0.3s ease;
        }

        .completion-label::after {
            content: '';
            position: absolute;
            left: 8px;
            top: 4px;
            width: 5px;
            height: 10px;
            border: solid var(--text-color);
            border-width: 0 3px 3px 0;
            transform: rotate(45deg);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .completion-checkbox:checked+.completion-label {
            background-color: var(--completed-color);
        }

        .completion-checkbox:checked+.completion-label::after {
            opacity: 1;
        }

        .card-content .scripture {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 0.75rem; /* Adjusted for better spacing with buttons */
        }

        .card-content .chapters,
        .card-content .notes {
            color: var(--text-muted-color);
        }

        .card-content .notes {
            margin-top: 0.75rem;
            font-style: italic;
            font-size: 0.9rem;
            border-left: 2px solid var(--accent-color);
            padding-left: 0.75rem;
        }

        /* Completed State Styling */
        .day-card.completed {
            border-left-color: var(--completed-color);
            background-color: #354763;
        }

        .day-card.completed .card-content {
            opacity: 0.6;
        }

        /*-------------------*/
        /*  4. Hide/Show Plans */
        /*-------------------*/
        #canonical-plan {
            display: none;
        }

        /*-------------------*/
        /*  5. Footer */
        /*-------------------*/
        .footer {
            text-align: center;
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid var(--secondary-color);
            color: var(--text-muted-color);
            font-size: 0.9rem;
        }

        /* 6. App Switcher */
        .app-switcher {
            text-align: center;
            margin: -1rem auto 2.5rem;
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .switcher-link {
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.6rem 1.25rem;
            border-radius: 50px;
            /* Pill shape */
            background-color: var(--secondary-color);
            color: var(--text-muted-color);
            text-decoration: none;
            font-size: 0.95rem;
            font-weight: 600;
            transition: all 0.3s ease;
            border: 1px solid transparent;
        }

        .switcher-link:hover {
            color: var(--accent-color);
            background-color: rgba(246, 173, 85, 0.1);
            border-color: rgba(246, 173, 85, 0.4);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .switcher-link svg {
            transition: transform 0.3s ease;
        }

        .switcher-link:hover svg {
            transform: translateX(4px);
        }

        /* 7. Card Actions & Copy Button */
        .card-actions {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .copy-button {
            background: none;
            border: none;
            color: var(--text-muted-color);
            cursor: pointer;
            padding: 4px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease-in-out;
        }
        
        .copy-button:hover {
            color: var(--accent-color);
            background-color: rgba(246, 173, 85, 0.1);
        }
        
        .copy-button .check-icon {
            display: none;
        }
        
        .copy-button.copied {
            color: var(--completed-color);
        }
        
        .copy-button.copied .copy-icon {
            display: none;
        }
        
        .copy-button.copied .check-icon {
            display: block;
        }

        /* 8. Copyright Footer */
        .footer .copyright {
            margin-top: 1.5rem;
            font-size: 0.9rem;
            color: var(--text-muted-color);
        }
        
        @keyframes color-cycle-nt {
            0%   { color: var(--accent-color); text-shadow: 0 0 5px rgba(246, 173, 85, 0.5); }
            25%  { color: #63b3ed; text-shadow: 0 0 5px rgba(99, 179, 237, 0.5); }
            50%  { color: var(--completed-color); text-shadow: 0 0 5px rgba(72, 187, 120, 0.5); }
            75%  { color: #a0aec0; text-shadow: 0 0 5px rgba(160, 174, 192, 0.5); }
            100% { color: var(--accent-color); text-shadow: 0 0 5px rgba(246, 173, 85, 0.5); }
        }
        
        @keyframes pulse {
            0%   { transform: scale(1); }
            50%  { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .pulsating-link {
            font-weight: 600;
            text-decoration: none;
            animation: color-cycle-nt 8s infinite linear, pulse 3s infinite ease-in-out;
            transition: transform 0.2s ease;
            display: inline-block; /* Needed for transform */
        }
        
        .pulsating-link:hover {
            animation-play-state: paused; /* Pause animation on hover for better UX */
            transform: scale(1.1);
        }

        /* 9. Reset Button */
        .reset-container {
            margin: 2rem 0;
            text-align: center;
        }
        
        .reset-button {
            background-color: transparent;
            border: 2px solid var(--text-muted-color);
            color: var(--text-muted-color);
            padding: 0.6rem 1.5rem;
            font-size: 0.9rem;
            font-weight: 600;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .reset-button:hover {
            background-color: var(--accent-color);
            border-color: var(--accent-color);
            color: var(--primary-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(246, 173, 85, 0.2);
        }

        /* 10. Version Selector & Chapter Buttons */
        .version-selector-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 2.5rem;
            padding: 0.5rem;
            background-color: var(--secondary-color);
            border-radius: 8px;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
        }
        
        #version-selector {
            width: 100%;
            background-color: var(--primary-color);
            color: var(--text-color);
            border: 1px solid var(--text-muted-color);
            border-radius: 6px;
            padding: 0.5rem;
            font-size: 1rem;
            cursor: pointer;
        }
        
        .card-content .scripture-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 0.75rem;
        }
        
        .chapter-button {
            background-color: var(--primary-color);
            color: var(--text-muted-color);
            border: 1px solid var(--secondary-color);
            border-radius: 6px;
            padding: 0.3rem 0.7rem;
            font-size: 0.9rem;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.2s ease;
        }
        
        .chapter-button:hover {
            background-color: var(--accent-color);
            color: var(--primary-color);
            border-color: var(--accent-color);
            transform: translateY(-2px);
        }
        
        .scripture-placeholder {
            font-style: italic;
            color: var(--text-muted-color);
        }
    </style>
</head>

<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-M5T96RK7"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <div class="container">
        <header class="header">
            <h1>Dammie Optimus</h1>
            <p>New Testament in a Month Reading Plan</p>
        </header>

        <!-- App Switcher -->
        <div class="app-switcher">
            <a href="./old_testament_in_four_months.html" class="switcher-link">OT in 4 Months Plan</a>
            <a href="./complete_bible_in_a_year.html" class="switcher-link">Complete Bible Plan</a>
        </div>

        <div class="version-selector-container">
            <label for="version-selector">Bible Version:</label>
            <select id="version-selector" name="version-selector"></select>
        </div>
        
        <div class="plan-selector">
            <button class="plan-button" data-plan="canonical">Canonical Order</button>
            <button class="plan-button active" data-plan="chronological">Chronological Order</button>
        </div>

        <!-- Canonical Plan -->
        <section id="canonical-plan" class="reading-plan"></section>

        <!-- Chronological Plan -->
        <section id="chronological-plan" class="reading-plan"></section>

        <footer class="footer">
            <p>"Your word is a lamp for my feet, a light on my path." - Psalm 119:105</p>
            
            <div class="reset-container">
                <button id="reset-progress-button" class="reset-button">Reset All Progress</button>
            </div>
        
            <p class="copyright">&copy; <span id="copyright-year"></span> <a href="https://dammieoptimus.github.io/tgrstartnow/?d=eyJyZWYiOiJEYW1taWVPcHRpbXVzMiIsIm5hbWUiOiJEYW1taWUgKE9wdGltdXMpIEF5b2RlbGUiLCJwaG9uZSI6IjA4MDI4OTc1ODE2IiwicGljIjoiaHR0cHM6Ly9pLmltZ3VyLmNvbS9xcVVFNGFyLmpwZyJ9" class="pulsating-link" target="_blank" rel="noopener noreferrer">Dammie Optimus Solutions</a>. All rights reserved.</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            document.getElementById('copyright-year').textContent = new Date().getFullYear();

            //================================================
            // BIBLE LINKING & VERSION MANAGEMENT LIBRARY
            //================================================
            
            // --- 1. Bible Version Data (Easily extendable) ---
            const bibleVersions = [
                { name: "EasyEnglish Bible 2024", number: 2079, abbr: "EASY" },
                { name: "Amplified Bible (AMP)", number: 1588, abbr: "AMP" },
                { name: "New King James Version (NKJV)", number: 114, abbr: "NKJV" },
                { name: "New International Version (NIV)", number: 111, abbr: "NIV" },
                { name: "English Standard Version (ESV)", number: 59, abbr: "ESV" },
                { name: "King James Version (KJV)", number: 1, abbr: "KJV" },
                { name: "New Living Translation (NLT)", number: 116, abbr: "NLT" },
                { name: "Christian Standard Bible (CSB)", number: 1713, abbr: "CSB" },
                { name: "The Message (MSG)", number: 97, abbr: "MSG" },
                { name: "King James Version with Apocrypha, American Edition (KJVAAE)", number: 546, abbr: "KJVAAE" },
                { name: "Bible in Yorùbá (YCB)", number: 911, abbr: "YCB" },
                { name: "Bible in Hausa (SRK)", number: 1614, abbr: "SRK" },
                { name: "Bible in Igbo (BIU)", number: 1624, abbr: "BIU" },
                { name: "Bible in French (BEX2004)", number: 3286, abbr: "BEX2004" }
            ];
            
            // --- 2. Book Abbreviation Map ---
            const bookAbbreviations = {
                // Old Testament
                'Gen': 'GEN', 'Genesis': 'GEN', 'Ex': 'EXO', 'Exodus': 'EXO', 'Lev': 'LEV', 'Leviticus': 'LEV',
                'Num': 'NUM', 'Numbers': 'NUM', 'Deut': 'DEU', 'Deuteronomy': 'DEU', 'Josh': 'JOS', 'Joshua': 'JOS',
                'Judges': 'JDG', 'Ruth': 'RUT', '1 Sam': '1SA', '1 Samuel': '1SA', '2 Sam': '2SA', '2 Samuel': '2SA',
                '1 Kings': '1KI', '2 Kings': '2KI', '1 Chron': '1CH', '1 Chronicles': '1CH', '2 Chron': '2CH', '2 Chronicles': '2CH',
                'Ezra': 'EZR', 'Neh': 'NEH', 'Nehemiah': 'NEH', 'Esther': 'EST', 'Job': 'JOB', 'Ps': 'PSA', 'Psalm': 'PSA', 'Psalms': 'PSA',
                'Prov': 'PRO', 'Proverbs': 'PRO', 'Ecc': 'ECC', 'Ecclesiastes': 'ECC', 'Song of Solomon': 'SNG',
                'Isaiah': 'ISA', 'Isa': 'ISA', 'Jer': 'JER', 'Jeremiah': 'JER', 'Lam': 'LAM', 'Lamentations': 'LAM', 'Ezek': 'EZK', 'Ezekiel': 'EZK',
                'Dan': 'DAN', 'Daniel': 'DAN', 'Hosea': 'HOS', 'Joel': 'JOL', 'Amos': 'AMO', 'Obadiah': 'OBA', 'Jonah': 'JON',
                'Micah': 'MIC', 'Nahum': 'NAM', 'Habakkuk': 'HAB', 'Zeph': 'ZEP', 'Haggai': 'HAG', 'Zech': 'ZEC', 'Zechariah': 'ZEC', 'Malachi': 'MAL',
                // New Testament
                'Matthew': 'MAT', 'Matt': 'MAT', 'Mark': 'MRK', 'Luke': 'LUK', 'John': 'JHN', 'Acts': 'ACT', 'Romans': 'ROM',
                '1 Corinthians': '1CO', '2 Corinthians': '2CO', 'Galatians': 'GAL', 'Ephesians': 'EPH', 'Philippians': 'PHP',
                'Colossians': 'COL', '1 Thessalonians': '1TH', '2 Thessalonians': '2TH', '1 Timothy': '1TI', '2 Timothy': '2TI',
                'Titus': 'TIT', 'Philemon': 'PHM', 'Hebrews': 'HEB', 'James': 'JAS', '1 Peter': '1PE', '2 Peter': '2PE',
                '1 John': '1JN', '2 John': '2JN', '3 John': '3JN', 'Jude': 'JUD', 'Revelation': 'REV'
            };
            
            /**
             * Parses a reading string (e.g., "Mark 1-8 & Matthew 28") and generates clickable buttons.
             * @param {string} readingsString - The string to parse.
             * @returns {string} HTML string of buttons.
             */
            function parseReadingsAndCreateButtons(readingsString) {
                if (!readingsString || readingsString.toLowerCase().includes('catch-up')) {
                    return `<p class="scripture-placeholder">A day for rest and reflection.</p>`;
                }
            
                const versionNumber = localStorage.getItem('dammieOptimus_bibleVersionNumber') || bibleVersions[0].number;
                const selectedVersion = bibleVersions.find(v => v.number == versionNumber) || bibleVersions[0];
                
                let buttonsHtml = '';
                const parts = readingsString.split(/&|;/); // Split by '&' or ';'
            
                parts.forEach(part => {
                    const trimmedPart = part.trim();
                    // Regex to capture: (Book Name) (Start Chapter)-(End Chapter) or (Book Name) (Chapter)
                    const match = trimmedPart.match(/^(.+?)\s+(\d+)(?:-(\d+))?$/);
            
                    if (match) {
                        const bookName = match[1].trim();
                        const startChapter = parseInt(match[2], 10);
                        const endChapter = match[3] ? parseInt(match[3], 10) : startChapter;
                        
                        const bookAbbr = Object.keys(bookAbbreviations).find(key => bookName.startsWith(key));
                        const urlAbbr = bookAbbreviations[bookAbbr];
            
                        if (urlAbbr) {
                            for (let i = startChapter; i <= endChapter; i++) {
                                const url = `https://www.bible.com/bible/${selectedVersion.number}/${urlAbbr}.${i}.${selectedVersion.abbr}`;
                                buttonsHtml += `<a href="${url}" class="chapter-button" target="_blank" rel="noopener noreferrer">${bookName} ${i}</a>`;
                            }
                        }
                    }
                });
            
                return buttonsHtml || `<p class="scripture-placeholder">No readings for this day.</p>`;
            }
            
            /**
             * Populates the version selector dropdown.
             */
            function populateVersionSelector() {
                const selector = document.getElementById('version-selector');
                bibleVersions.forEach(version => {
                    const option = document.createElement('option');
                    option.value = version.number;
                    option.textContent = version.name;
                    selector.appendChild(option);
                });
            }
            
            /**
             * Saves the user's version choice to localStorage and reloads.
             */
            function handleVersionChange(e) {
                localStorage.setItem('dammieOptimus_bibleVersionNumber', e.target.value);
                // Reload the page to apply the new version to all generated links
                location.reload();
            }
            
            /**
             * Loads the saved version from localStorage or sets a default.
             */
            function loadVersionPreference() {
                const savedVersion = localStorage.getItem('dammieOptimus_bibleVersionNumber');
                const selector = document.getElementById('version-selector');
                if (savedVersion) {
                    selector.value = savedVersion;
                } else {
                    selector.value = bibleVersions[0].number; // Default to the first version
                }
            }
            //================================================
            // END OF LIBRARY
            //================================================

            //-------------------*/
            //  Reset Progress Logic
            //-------------------*/
            const resetProgressButton = document.getElementById('reset-progress-button');
        
            function handleResetProgress() {
                // Confirmation dialog to prevent accidental deletion
                const isConfirmed = window.confirm("Are you sure you want to reset all your reading progress? This action cannot be undone.");
        
                if (isConfirmed) {
                    const keysToRemove = [];
                    // Find all keys related to this app
                    for (let i = 0; i < localStorage.length; i++) {
                        const key = localStorage.key(i);
                        if (key.startsWith('dammieOptimusPlan_')) { // The prefix for the NT app
                            keysToRemove.push(key);
                        }
                    }
        
                    // Remove all found keys
                    keysToRemove.forEach(key => {
                        localStorage.removeItem(key);
                    });
        
                    // Reload the page to reflect the changes
                    location.reload();
                }
            }
            resetProgressButton.addEventListener('click', handleResetProgress);

            //-------------------*/
            //  1. Data for Reading Plans
            //-------------------*/
            const canonicalReadings = [
                { day: 1, readings: "Matthew 1-9", chapters: 9, notes: "Witness Jesus’s divine birth, His baptism, and the revolutionary Sermon on the Mount that turns the world’s values upside down." },
                { day: 2, readings: "Matthew 10-18", chapters: 9, notes: "Jesus commissions His twelve disciples, teaches in powerful parables, and miraculously feeds five thousand people." },
                { day: 3, readings: "Matthew 19-27", chapters: 9, notes: "The journey to the cross intensifies with the Transfiguration, the Triumphal Entry, and Christ’s ultimate sacrifice." },
                { day: 4, readings: "Matthew 28 & Mark 1-8", chapters: 9, notes: "He is risen! The Great Commission is given. Then, dive into Mark’s fast-paced, action-packed account of Jesus’s ministry." },
                { day: 5, readings: "Mark 9-16", chapters: 8, notes: "Mark’s gospel races toward its conclusion with more miracles, sharp teachings, and a powerful, concise account of the resurrection." },
                { day: 6, readings: "Luke 1-9", chapters: 9, notes: "Luke, the physician, provides a detailed, orderly account of Jesus’s birth, early life, and the beginning of His Galilean ministry." },
                { day: 7, readings: "Luke 10-18", chapters: 9, notes: "Encounter some of the most beloved stories ever told, including the parables of the Good Samaritan and the Prodigal Son." },
                { day: 8, readings: "Luke 19-24 & John 1-2", chapters: 8, notes: "Luke’s narrative climaxes with the crucifixion and resurrection. Then, step into John’s profound theological opening: 'In the beginning was the Word.'" },
                { day: 9, readings: "John 3-11", chapters: 9, notes: "Explore deep conversations with Nicodemus and the woman at the well, and witness the astonishing miracle of Lazarus being raised from the dead." },
                { day: 10, readings: "John 12-21", chapters: 10, notes: "Walk with Jesus through His final week, listen to the intimate Upper Room Discourse, and stand in awe of His post-resurrection appearances." },
                { day: 11, readings: "Acts 1-9", chapters: 9, notes: "The adventure of the early church begins! Witness the ascension, the dramatic arrival of the Holy Spirit at Pentecost, and the radical conversion of Saul." },
                { day: 12, readings: "Acts 10-18", chapters: 9, notes: "The Gospel breaks barriers as Peter preaches to Gentiles, and Paul embarks on his first incredible missionary journeys." },
                { day: 13, readings: "Acts 19-28", chapters: 10, notes: "Paul’s ministry causes a riot in Ephesus, leading to his arrest and a perilous, storm-tossed journey to stand trial in Rome." },
                { day: 14, readings: "Romans 1-9", chapters: 9, notes: "Dive into Paul’s theological masterpiece, a profound explanation of God’s plan for salvation, grace, and freedom from sin." },
                { day: 15, readings: "Romans 10-16 & 1 Corinthians 1", chapters: 8, notes: "Paul outlines the practical beauty of living out the gospel, then begins to address the messy divisions within the Corinthian church." },
                { day: 16, readings: "1 Corinthians 2-10", chapters: 9, notes: "Paul tackles deep issues of spiritual wisdom, church discipline, and how to live with Christian liberty and love." },
                { day: 17, readings: "1 Corinthians 11-16 & 2 Corinthians 1-2", chapters: 8, notes: "Explore teachings on worship, the famous 'love chapter,' the reality of the resurrection, and Paul’s comfort in affliction." },
                { day: 18, readings: "2 Corinthians 3-13", chapters: 11, notes: "In this deeply personal letter, Paul defends his apostolic ministry and speaks of strength found in weakness." },
                { day: 19, readings: "Galatians 1-6 & Ephesians 1-3", chapters: 9, notes: "Read Paul’s passionate defense of the gospel of grace in Galatians, then marvel at the spiritual riches believers possess in Christ in Ephesians." },
                { day: 20, readings: "Ephesians 4-6 & Philippians 1-4 & Colossians 1-2", chapters: 9, notes: "Learn about church unity, put on the Armor of God, find the secret to joy in suffering, and celebrate the absolute supremacy of Christ." },
                { day: 21, readings: "Colossians 3-4 & 1 & 2 Thessalonians", chapters: 10, notes: "Set your heart on things above. Then read Paul’s earliest letters, filled with encouragement and instruction about Christ's return." },
                { day: 22, readings: "1 Timothy 1-6 & 2 Timothy 1-4", chapters: 10, notes: "Paul gives vital instructions on church leadership and sound doctrine, ending with his poignant, final charge to his protégé Timothy." },
                { day: 23, readings: "Titus 1-3 & Philemon 1 & Hebrews 1-5", chapters: 9, notes: "Instructions for church order in Crete, a beautiful appeal for a runaway slave, and a powerful argument for the superiority of Christ over all." },
                { day: 24, readings: "Hebrews 6-13", chapters: 8, notes: "A masterful explanation of Jesus as our Great High Priest, followed by the inspiring 'Hall of Faith' in chapter 11." },
                { day: 25, readings: "James 1-5 & 1 Peter 1-4", chapters: 9, notes: "James challenges us to be 'doers of the word,' while Peter offers profound encouragement for finding hope in the midst of suffering." },
                { day: 26, readings: "1 Peter 5 & 2 Peter 1-3 & 1 John 1-4", chapters: 9, notes: "Instructions for church elders, stern warnings against false teachers, and John’s beautiful reminders that God is light and love." },
                { day: 27, readings: "1 John 5 & 2 John 1 & 3 John 1 & Jude 1 & Revelation 1-4", chapters: 8, notes: "Find assurance of salvation, walk in truth and love, contend for the faith, and read Jesus’s personal letters to the seven churches." },
                { day: 28, readings: "Revelation 5-13", chapters: 9, notes: "John’s stunning vision of the throne room of heaven unfolds into a cosmic drama of seals, trumpets, and spiritual warfare." },
                { day: 29, readings: "Revelation 14-22", chapters: 9, notes: "The vision climaxes with the fall of Babylon, the marriage supper of the Lamb, and the glorious arrival of the new heaven and new earth." },
                { day: 30, readings: "Catch-Up / Reflection Day", chapters: '-', notes: "Reflect on the incredible story of Jesus and the birth of His church. How has His story impacted yours?" }
            ];
            
            const chronologicalReadings = [
                { day: 1, readings: "Luke 1-9", chapters: 9, notes: "Begin with Luke's detailed, historical account of Jesus's miraculous birth and the start of His powerful ministry." },
                { day: 2, readings: "Luke 10-18", chapters: 9, notes: "Journey with Jesus as He teaches unforgettable parables like the Good Samaritan and the Prodigal Son." },
                { day: 3, readings: "Luke 19-24 & John 1-2", chapters: 8, notes: "Witness the Triumphal Entry, crucifixion, and resurrection, then see it all again through John's cosmic lens: 'The Word became flesh.'" },
                { day: 4, readings: "John 3-11", chapters: 9, notes: "Explore some of the deepest theological conversations in Scripture and witness the climactic raising of Lazarus from the dead." },
                { day: 5, readings: "John 12-21", chapters: 10, notes: "Experience Jesus' final week, hear his intimate farewell to His disciples, and rejoice in His resurrection appearances." },
                { day: 6, readings: "Mark 1-9", chapters: 9, notes: "Read Mark’s fast-paced, action-oriented gospel, which powerfully presents Jesus as the suffering servant and conquering king." },
                { day: 7, readings: "Mark 10-16 & Matthew 1-2", chapters: 9, notes: "Follow Jesus' final journey to Jerusalem in Mark, then turn to Matthew for the rich story of Jesus's genealogy and birth." },
                { day: 8, readings: "Matthew 3-11", chapters: 9, notes: "Hear Jesus's authoritative teaching in the Sermon on the Mount and see His power as He calls His first disciples." },
                { day: 9, readings: "Matthew 12-20", chapters: 9, notes: "Dive into the parables of the kingdom, witness Peter's great confession, and see Jesus's glory revealed at the Transfiguration." },
                { day: 10, readings: "Matthew 21-28", chapters: 8, notes: "Matthew's gospel concludes with Jesus's final conflicts in Jerusalem, His sacrificial death, and His glorious resurrection command: the Great Commission." },
                { day: 11, readings: "Acts 1-9", chapters: 9, notes: "The story explodes into action with the birth of the Church at Pentecost, the first miracles, and the dramatic conversion of Saul." },
                { day: 12, readings: "Acts 10-14 & James 1-5", chapters: 10, notes: "See the Gospel cross cultural boundaries to the Gentiles, then read James's intensely practical letter on how true faith works." },
                { day: 13, readings: "Galatians 1-6 & Acts 15-16", chapters: 8, notes: "Read Paul’s passionate letter defending freedom in Christ, then see how the early church leaders confirmed this truth at the Jerusalem Council." },
                { day: 14, readings: "1 Thessalonians 1-5 & 2 Thessalonians 1-3", chapters: 8, notes: "Discover Paul's earliest letters, written to a young church, full of affection and urgent instruction about the return of Christ." },
                { day: 15, readings: "Acts 17-19 & 1 Corinthians 1-4", chapters: 10, notes: "Travel with Paul to Athens and Ephesus, then read his first letter to Corinth, addressing the problem of division head-on." },
                { day: 16, readings: "1 Corinthians 5-13", chapters: 9, notes: "Paul confronts serious moral and ethical issues in the church, providing godly wisdom on everything from lawsuits to spiritual gifts." },
                { day: 17, readings: "1 Corinthians 14-16 & 2 Corinthians 1-5", chapters: 8, notes: "Discover the importance of the resurrection, and then turn to Paul’s most personal letter, a deep and emotional defense of his ministry." },
                { day: 18, readings: "2 Corinthians 6-13", chapters: 8, notes: "Paul continues his heartfelt appeal, describing the trials of ministry and the secret of finding God's strength in human weakness." },
                { day: 19, readings: "Romans 1-9", chapters: 9, notes: "Engage with Paul’s theological masterpiece, a brilliant and systematic explanation of God's righteousness revealed through faith in Jesus." },
                { day: 20, readings: "Romans 10-16 & Acts 20-23", chapters: 10, notes: "Learn how the gospel transforms our lives and relationships, then follow Paul's emotional farewell and his dramatic arrest in Jerusalem." },
                { day: 21, readings: "Acts 24-28", chapters: 5, notes: "A lighter day. Follow Paul the prisoner as he stands trial before governors and kings, culminating in a shipwreck on his way to Rome." },
                { day: 22, readings: "Colossians 1-4 & Philemon 1 & Ephesians 1-3", chapters: 8, notes: "From prison, Paul writes of the supreme majesty of Christ, makes a personal appeal for a slave, and celebrates the believer's spiritual riches." },
                { day: 23, readings: "Ephesians 4-6 & Philippians 1-4", chapters: 7, notes: "Another lighter day. Read instructions on church unity, the Armor of God, and Paul’s famous letter of joy, written from a jail cell." },
                { day: 24, readings: "1 Timothy 1-6 & Titus 1-3", chapters: 9, notes: "Paul's 'Pastoral Epistles' give timeless, practical instructions for establishing healthy leadership and sound doctrine in the church." },
                { day: 25, readings: "1 Peter 1-5 & Hebrews 1-4", chapters: 9, notes: "Peter writes to encourage suffering Christians with a 'living hope,' while Hebrews begins its masterful argument for the absolute superiority of Christ." },
                { day: 26, readings: "Hebrews 5-13", chapters: 9, notes: "Go deeper into the role of Jesus as our Great High Priest and be inspired by the heroes of faith in the famous 'Hall of Faith.'" },
                { day: 27, readings: "2 Timothy 1-4 & 2 Peter 1-3", chapters: 7, notes: "Read Paul's final, poignant words written shortly before his death, and Peter’s urgent, final warning against false teachers." },
                { day: 28, readings: "Jude 1 & 1 John 1-5 & 2 John 1 & 3 John 1", chapters: 9, notes: "A fierce letter from Jude encourages believers to 'contend for the faith,' followed by John’s beautiful letters on living in God's love and light." },
                { day: 29, readings: "Revelation 1-11", chapters: 11, notes: "John's spectacular vision begins, with letters to the churches and the unfolding cosmic drama of the seals and trumpets." },
                { day: 30, readings: "Revelation 12-22", chapters: 11, notes: "The vision builds to a stunning climax: the final battle, the fall of evil, and the glorious arrival of the new Jerusalem. He is making all things new!" }
            ];

            //-------------------*/
            //  2. Element References
            //-------------------*/
            const canonicalContainer = document.getElementById('canonical-plan');
            const chronologicalContainer = document.getElementById('chronological-plan');
            const planButtons = document.querySelectorAll('.plan-button');

            //-------------------*/
            //  3. Functions
            //-------------------*/

            /**
             * Generates the HTML for a single day card.
             * @param {object} dayData - The data for the day.
             * @param {string} planName - The name of the plan ('canonical' or 'chronological').
             * @returns {string} - The HTML string for the day card.
             */
            function createDayCardHTML(dayData, planName) {
                const notesHTML = dayData.notes ? `<p class="notes">${dayData.notes}</p>` : '';
                const fullPlanName = `${planName === 'canonical' ? 'Canonical' : 'Chronological'} NT 1-Month Reading`;
                
                return `
                    <div class="day-card" id="${planName}-day-${dayData.day}">
                        <div class="card-header">
                            <h3>Day ${dayData.day}</h3>
                            <div class="card-actions">
                                <button class="copy-button" title="Copy Reading" data-day="${dayData.day}" data-readings="${dayData.readings}" data-plan-name="${fullPlanName}" data-notes="${dayData.notes || ''}">
                                    <svg class="copy-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
                                    <svg class="check-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>
                                </button>
                                <input type="checkbox" id="check-${planName}-${dayData.day}" class="completion-checkbox" data-plan="${planName}" data-day="${dayData.day}">
                                <label for="check-${planName}-${dayData.day}" class="completion-label"></label>
                            </div>
                        </div>
                        <div class="card-content">
                            <p class="scripture">${dayData.readings}</p>
                            <div class="scripture-buttons">
                                ${parseReadingsAndCreateButtons(dayData.readings)}
                            </div>
                            <p class="chapters">Chapters: ${dayData.chapters}</p>
                            ${notesHTML}
                        </div>
                    </div>
                `;
            }

            /**
             * Populates a container with day cards for a given plan.
             * @param {HTMLElement} container - The container element.
             * @param {Array<object>} planData - The array of reading data.
             * @param {string} planName - The name of the plan.
             */
            function populatePlan(container, planData, planName) {
                container.innerHTML = planData.map(day => createDayCardHTML(day, planName)).join('');
            }

            /**
             * Handles switching between plans.
             * @param {Event} e - The click event.
             */
            function switchPlan(e) {
                const selectedPlan = e.target.dataset.plan;

                planButtons.forEach(button => button.classList.remove('active'));
                e.target.classList.add('active');

                if (selectedPlan === 'canonical') {
                    canonicalContainer.style.display = 'grid';
                    chronologicalContainer.style.display = 'none';
                } else {
                    canonicalContainer.style.display = 'none';
                    chronologicalContainer.style.display = 'grid';
                }
            }

            /**
             * Saves the completion state of a day to localStorage. [11]
             * @param {string} plan - The name of the plan.
             * @param {number} day - The day number.
             * @param {boolean} isCompleted - The completion status.
             */
            function saveProgress(plan, day, isCompleted) {
                const key = `dammieOptimusPlan_${plan}_day_${day}`;
                localStorage.setItem(key, isCompleted);[1, 13]
            }

            /**
             * Loads progress from localStorage and updates the UI. [10]
             */
            function loadProgress() {
                const checkboxes = document.querySelectorAll('.completion-checkbox');
                checkboxes.forEach(checkbox => {
                    const { plan, day } = checkbox.dataset;
                    const key = `dammieOptimusPlan_${plan}_day_${day}`;
                    const isCompleted = localStorage.getItem(key) === 'true';

                    if (isCompleted) {
                        checkbox.checked = true;
                        document.getElementById(`${plan}-day-${day}`).classList.add('completed');
                    }
                });
            }

            /**
             * Handles checkbox changes to update UI and save progress.
             * @param {Event} e - The change event.
             */
            function handleCheckboxChange(e) {
                const checkbox = e.target;
                if (!checkbox.classList.contains('completion-checkbox')) return;

                const { plan, day } = checkbox.dataset;
                const card = document.getElementById(`${plan}-day-${day}`);

                if (checkbox.checked) {
                    card.classList.add('completed');
                    saveProgress(plan, day, true);
                } else {
                    card.classList.remove('completed');
                    saveProgress(plan, day, false);
                }
            }


            //-------------------*/
            //  4. Initial Setup & Event Listeners
            //-------------------*/

            /**
             * Handles the copy button click to copy the reading and note to the clipboard.
             * @param {Event} e - The click event.
             */
            function handleCopyClick(e) {
                const copyButton = e.target.closest('.copy-button');
                if (!copyButton) return;
            
                // Destructure the data, now including 'notes'
                const { day, readings, planName, notes } = copyButton.dataset;
                
                // Start with the base text
                let copyText = `Day ${day} (${planName}) - ${readings}`;
            
                // If a note exists and isn't empty, add it on a new line
                if (notes && notes.trim() !== '') {
                    copyText += `\n\nNote: ${notes}`;
                }
            
                navigator.clipboard.writeText(copyText).then(() => {
                    copyButton.classList.add('copied');
                    setTimeout(() => {
                        copyButton.classList.remove('copied');
                    }, 2000); // Revert back after 2 seconds
                }).catch(err => {
                    console.error('Failed to copy text: ', err);
                });
            }
            
            // Add event listeners
            document.body.addEventListener('click', handleCopyClick);

            // Initialize Version Selector
            populateVersionSelector();
            loadVersionPreference();
            document.getElementById('version-selector').addEventListener('change', handleVersionChange);

            // Populate both plan containers
            populatePlan(canonicalContainer, canonicalReadings, 'canonical');
            populatePlan(chronologicalContainer, chronologicalReadings, 'chronological');

            // Load any saved progress from previous sessions
            loadProgress();

            // Add event listeners
            planButtons.forEach(button => button.addEventListener('click', switchPlan));
            document.body.addEventListener('change', handleCheckboxChange);

        });
    </script>

</body>

</html>
